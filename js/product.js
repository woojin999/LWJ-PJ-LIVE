const prdNew = {
  new1: {
    img: "product_new1.png",
    imghv: "product_new_hover1.png",
    name: "프리미엄 햄치즈 샌드위치",
    desc: "탕종식빵과 터키브레스트 햄,통모짜렐라치즈의 만남",
  },
  new2: {
    img: "product_new2.png",
    imghv: "product_new_hover2.png",
    name: "프레시 파 베이컨 크림치즈",
    desc: "부드러운 크림치즈에 쪽파와 베이컨이가득!",
  },
  new3: {
    img: "product_new3.png",
    imghv: "product_new_hover3.png",
    name: "매콤에그마요 총좌빙",
    desc: "매콤한 소스와 고소한 에그마요가 듬뿍",
  },
  new4: {
    img: "product_new4.png",
    imghv: "product_new_hover4.png",
    name: "홍밀크",
    desc: "우유 속 비정제 흑설탕의 건강함 달콤함",
  },
  new5: {
    img: "product_new5.png",
    imghv: "product_new_hover5.png",
    name: "초콜릿 밀크",
    desc: "달콤한 초콜릿의 진한 맛과 우유의 조화",
  },
};

const prdSw = {
  sw1: {
    img: "product_sand5.png",
    imghv: "product_sand_hover5.png",
    name: "에그 포테이토 샌드위치",
    desc: "감자와 에그 샐러드의 든든한 조합",
  },
  sw2: {
    img: "product_sand2.png",
    imghv: "product_sand_hover2.png",
    name: "프레시 파 베이컨 크림치즈",
    desc: "부드러운 크림치즈에 쪽파와 베이컨이가득!",
  },
  sw3: {
    img: "product_sand6.png",
    imghv: "product_sand_hover6.png",
    name: "갓군샌 갈릭버터",
    desc: "고소한 버터와 국내산 마늘의 풍미 가득한 만남",
  },
  sw4: {
    img: "product_sand4.png",
    imghv: "product_sand_hover4.png",
    name: "햄치즈 샌드위치",
    desc: "폭신한 빵 속 햄과 치즈의 균형잡힌 맛",
  },
  sw5: {
    img: "product_sand1.png",
    imghv: "product_sand_hover1.png",
    name: "프리미엄 햄치즈 샌드위치",
    desc: "탕종식빵과 터키브레스트 햄,통모짜렐라치즈의 만남",
  },
  sw6: {
    img: "product_sand3.png",
    imghv: "product_sand_hover3.png",
    name: "매콤에그마요 총좌빙",
    desc: "매콤한 소스와 고소한 에그마요가 듬뿍",
  },
  sw7: {
    img: "product_sand7.png",
    imghv: "product_sand_hover7.png",
    name: "홍루이젠 잠봉뵈르",
    desc: "풍미 가득 버터와 국내산 잠봉이 만나 부드러운 소프트 바게트 속으로",
  },
  sw8: {
    img: "product_sand8.png",
    imghv: "product_sand_hover8.png",
    name: "요거베리 샌드위치",
    desc: "상큼한 요거트 크림에 블루베리잼으로 달콤하게!",
  },
};

const prdDst = {
  dst1: {
    img: "product_dessert1.png",
    imghv: "product_dessert_hover1.png",
    name: "우유크림 아이슈",
    desc: "바삭한 쿠키 크럼블에 진한 우유크림이 가득찬 쿠키슈",
  },
  dst2: {
    img: "product_dessert2.png",
    imghv: "product_dessert_hover2.png",
    name: "우유퐁당 케익샌드 초코",
    desc: "사르르 눈처럼 부드럽고 달콤함 우유크림 케익샌드 초코",
  },
  dst3: {
    img: "product_dessert3.png",
    imghv: "product_dessert_hover3.png",
    name: "우유퐁당 케익샌드 플레인",
    desc: "사르르 눈처럼 부드럽고 달콤함 우유크림 케익샌드 플레인",
  },
  dst4: {
    img: "product_dessert4.png",
    imghv: "product_dessert_hover4.png",
    name: "리얼펑리수",
    desc: "대만 현지 레시피를 완벽하게 구현한 프리미엄 파인애플 펑리수",
  },
  dst5: {
    img: "product_dessert5.png",
    imghv: "product_dessert_hover5.png",
    name: "에그롤",
    desc: "고소한 계란과 깊고 부드러운 버터향 가득",
  },
};

const prdDrk = {
  drk1: {
    img: "product_drink1.png",
    imghv: "product_drink_hover1.png",
    name: "초콜릿 밀크",
    desc: "달콤한 초콜릿의 진한 맛과 우유의 조화",
  },
  drk2: {
    img: "product_drink2.png",
    imghv: "product_drink_hover2.png",
    name: "홍밀크",
    desc: "우유 속 비정제 흑설탕의 건강한 달콤함",
  },
  drk3: {
    img: "product_drink3.png",
    imghv: "product_drink_hover3.png",
    name: "수제 달고나 밀크티",
    desc: "부드러운 밀크티에 녹아드는 달고나 토핑",
  },
  drk4: {
    img: "product_drink4.png",
    imghv: "product_drink_hover4.png",
    name: "수제 달고나 라떼",
    desc: "쌉싸름한 라떼로 즐기는 달고나 음료의 달콤함",
  },
  drk5: {
    img: "product_drink1.png",
    imghv: "product_drink_hover1.png",
    name: "초콜릿 밀크",
    desc: "달콤한 초콜릿의 진한 맛과 우유의 조화",
  },
};
const prdWrap = document.querySelector(".prdWrap");
// console.log(prdWrap);

let hcode = "";
let prdBtn = document.querySelectorAll(".prdBtn li");
let snum = 0;
let prdSlBtn = document.querySelectorAll(".prdSlBtn");
let prdslide = document.getElementById("prdslide");
let prdImgWrap = document.querySelector(".product-img-wrap");
console.log(prdImgWrap);

prdMakeList(prdNew);

prdBtn.forEach((val) => {
  val.addEventListener("click", () => {
    // on 클래스 모두 지움
    snum = 0;
    prdSlBtn[0].style.display = "none";
    prdslide.style.transition = "none";
    
    for (const x of prdBtn) {
      x.classList.remove("on");
    }
    hcode = "";
    switch (val) {
      case prdBtn[0]:
        prdBtn[0].classList.add("on");
        prdMakeList(prdNew);
        break;
      case prdBtn[1]:
        prdBtn[1].classList.add("on");
        prdMakeList(prdSw);
        break;
      case prdBtn[2]:
        prdBtn[2].classList.add("on");
        prdMakeList(prdDst);
        break;
      case prdBtn[3]:
        prdBtn[3].classList.add("on");
        prdMakeList(prdDrk);
        break;
    }
  });
});

function prdMakeList(menu) {
  for (let x in menu) {
    let data = menu[x];
    hcode += `   
    <li>
      <a href="#;">
        <img
          src="./images/${data.imghv}"
          alt="상품이미지"
        />
        <img
          src="./images/${data.img}"
          alt="상품이미지"
        />
        <div class="product-txt-box">
          <strong>${data.name}</strong>
          <span
            >${data.desc}</span
          >
        </div>
      </a>
    </li>
    `;
  } // for문
  prdWrap.innerHTML = hcode;
  prdslide.style.left = "0%";
  
  if(prdslide.childElementCount == 4) {
    
    prdSlBtn[1].style.display = "none";
  }else{
    
    prdSlBtn[1].style.display = "block";
  }
  // console.log("zxc",prdslide.childElementCount == 4);
} // prdNewList


prdSlBtn[0].style.display = "none";

for(let x of prdSlBtn){
  x.onclick = prdGoSlide;

}

function prdGoSlide() {
  // 광클 금지
  if (prot) return;
  prot = true;
  setTimeout(() => {
    prot = false;
  }, 500);

  let liCnt = prdslide.childElementCount;

  let isRbtn = this.classList.contains("slBtn2");

  isRbtn ? snum++ : snum--;
 
  let cntNum;
  
  if(prdImgWrap.offsetWidth > 1050){
    cntNum = 4;
    prdslide.style.left = -25 * snum + "%";
  }else if(prdImgWrap.offsetWidth > 700){
    cntNum = 3;
    prdslide.style.left = -33.33 * snum + "%";

  }else if(prdImgWrap.offsetWidth > 350){
    cntNum = 2;
    prdslide.style.left = -50 * snum + "%";
  }else{
    cntNum = 1;
    prdslide.style.left = -100 * snum + "%";
  }

  
    if (snum < 0) {
      snum = 0;
    } else if (snum > liCnt - cntNum) {
      snum = liCnt - cntNum;
    } // elseif

    if (snum === 0 || snum === liCnt - cntNum) {
      // 해당 버튼 숨기기
      this.style.display = "none";
      // prdSlBtn[0].style.display = "block";
    } else {
      // 버튼 다시 보이기
      for (let x of prdSlBtn) {
        x.style.display = "block";
      }
    } //// else /////

    if (snum !== 0) {
      prdSlBtn[0].style.display = "block";
    } else {
      prdSlBtn[1].style.display = "block";
    }
    console.log("snum", snum);


  prdslide.style.transition = ".6s ease-in-out";
}